<html>
  
<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>个性化菜单 | Liu.jianyang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="背景 微信公众号平台提供了个性化菜单的相关接口，第三方开发者可以直接调取使用。产品经理计划要在自家产品加上这个功能，在阅读官方的开发文档后，就设计了产品原型，方案A就是主要的设计思路。 但在UI设计过程中，我们发现产品提供的产品原型方案在可用性和使用场景上存在欠妥的地方，双方对个性化菜单上也有着不一样的理解。于是重新换了种思路设计了方案B，后续再与产品作进一步沟通。 方案分析我们来看看方案A和方案">
<meta name="keywords" content="design">
<meta property="og:type" content="article">
<meta property="og:title" content="个性化菜单">
<meta property="og:url" content="https://yangbe.github.io/posts/9f178846/index.html">
<meta property="og:site_name" content="Liu.jianyang">
<meta property="og:description" content="背景 微信公众号平台提供了个性化菜单的相关接口，第三方开发者可以直接调取使用。产品经理计划要在自家产品加上这个功能，在阅读官方的开发文档后，就设计了产品原型，方案A就是主要的设计思路。 但在UI设计过程中，我们发现产品提供的产品原型方案在可用性和使用场景上存在欠妥的地方，双方对个性化菜单上也有着不一样的理解。于是重新换了种思路设计了方案B，后续再与产品作进一步沟通。 方案分析我们来看看方案A和方案">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://user-images.githubusercontent.com/9880101/67141909-03d74800-f295-11e9-9b59-c197302a1789.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/9880101/67074859-8a6c2680-f1bc-11e9-95a4-c5925a154ba6.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/9880101/67074655-20538180-f1bc-11e9-88eb-c4d7c7fde27b.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/9880101/67075824-84774500-f1be-11e9-9dc6-32843d1450d2.jpg">
<meta property="og:image" content="https://user-images.githubusercontent.com/9880101/67063258-a52ca400-f198-11e9-94a8-82355d44db39.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/9880101/67063268-b07fcf80-f198-11e9-93ae-d9e58a6f3128.png">
<meta property="og:updated_time" content="2019-10-19T09:24:07.770Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="个性化菜单">
<meta name="twitter:description" content="背景 微信公众号平台提供了个性化菜单的相关接口，第三方开发者可以直接调取使用。产品经理计划要在自家产品加上这个功能，在阅读官方的开发文档后，就设计了产品原型，方案A就是主要的设计思路。 但在UI设计过程中，我们发现产品提供的产品原型方案在可用性和使用场景上存在欠妥的地方，双方对个性化菜单上也有着不一样的理解。于是重新换了种思路设计了方案B，后续再与产品作进一步沟通。 方案分析我们来看看方案A和方案">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/9880101/67141909-03d74800-f295-11e9-9b59-c197302a1789.png">
  
    <link rel="icon" href="/images/favicon.ico">
  
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
</head>
</html>

<body style"


  background-color: #ffffff

">
  <div id="container">
    <nav id="nav">
  <header class="header">
    <!-- <a href="/" class="title"><img  src="https://user-images.githubusercontent.com/9880101/57966106-51672600-7980-11e9-966c-4c53dcf45442.png"></a> -->
    <!-- <a href="/" class="title"><img  src="/images/logo.svg"></a> -->
    <!-- <a href="/" class="title">Liu.Jianyang</a> -->
    <a href="/" class="title">Jiany.Liu</a>
    <div class="menu">
        
          
              <a href="/" class="nav-menu ">博客</a>
            
          
              <a href="/portfolio" class="nav-menu ">作品</a>
            
          
              <a href="/about" class="nav-menu ">关于我</a>
            
          
        
      </div>
  </header>

</nav>
    <div id="main"><section class="article">
  <h2 class="title">个性化菜单</h2>
  <p class="sub">Oct 18, 2019</p>
  <!-- toc目录 -->
  <!-- <aside id="article-toc" role="navigation" class="fixed">
    <div class="article-toc-inner">
        <strong class="sidebar-title">
            目录
        </strong>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#背景"><span class="toc-text">背景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方案分析"><span class="toc-text">方案分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#方案A"><span class="toc-text">方案A</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方案B"><span class="toc-text">方案B</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#验证"><span class="toc-text">验证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#回归问题"><span class="toc-text">回归问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#思考"><span class="toc-text">思考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一性原理"><span class="toc-text">第一性原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象化功能，总结规律和模式"><span class="toc-text">抽象化功能，总结规律和模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#演推和预判"><span class="toc-text">演推和预判</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#借助工具"><span class="toc-text">借助工具</span></a></li></ol></li></ol>
    </div>
</aside> -->
  <article class="content">
    <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p><img src="https://user-images.githubusercontent.com/9880101/67141909-03d74800-f295-11e9-9b59-c197302a1789.png" alt="banner"></p>
<p>微信公众号平台提供了<strong>个性化菜单</strong>的相关接口，第三方开发者可以直接调取使用。产品经理计划要在自家产品加上这个功能，在阅读官方的开发文档后，就设计了产品原型，方案A就是主要的设计思路。</p>
<p>但在UI设计过程中，我们发现产品提供的产品原型方案在可用性和使用场景上存在欠妥的地方，双方对个性化菜单上也有着不一样的理解。于是重新换了种思路设计了方案B，后续再与产品作进一步沟通。</p>
<h2 id="方案分析"><a href="#方案分析" class="headerlink" title="方案分析"></a>方案分析</h2><p>我们来看看方案A和方案B的差异和优缺点。</p>
<p>方案A和方案B，对UI设计的影响可以控制得比较小，但在产品功能的设计思路上和后端底层数据存储和处理上却是完全不一样的思路。如果在设计阶段没发现方案A的问题，即使花费资源开发出来，并投放到市场真正使用起来，方案A中所提到的问题也会一一地浮现出来。由于功能设计的拓展性差和对实际使用场景考虑的不周到，最终导致的结果就是推倒重来，重新修改产品设计和开发。</p>
<h3 id="方案A"><a href="#方案A" class="headerlink" title="方案A"></a>方案A</h3><p><img src="https://user-images.githubusercontent.com/9880101/67074859-8a6c2680-f1bc-11e9-95a4-c5925a154ba6.png" alt="Modal1"></p>
<p><strong>模型：</strong></p>
<p>个性化菜单，是一项独立的<strong>主菜单</strong>（如图中菜单3、菜单2…所示），匹配替换的时候是以默认菜单为基础，从左起第一项主菜单开始逐项替换。</p>
<p><strong>替换规则：</strong></p>
<ol>
<li>把个性化菜单按最近创建时间排序，最新创建的排在最前面；</li>
<li>检测个性化中的菜单3的“matchrule”是否与用户的相关属性或标签匹配；</li>
<li>如果符合，即把默认菜单中的第一项菜单A替换成菜单3；</li>
<li>如果不符合，再检测菜单2的匹配规则是否符合用户，符合即替换，不符合即继续检测下一项，直到成功匹配并替换默认菜单的第一项；</li>
<li>默认菜单中的第一项菜单被匹配替换成功后，按照上面的规则继续匹配和替换默认菜单中的第二项菜单；</li>
<li>直至把默认菜单的所有项都替换完成，即终止剩余个性化菜单的匹配替换；如果剩余的个性化菜单都与用户不匹配，也终止个性化菜单的匹配替换</li>
</ol>
<p><strong>存在问题:</strong></p>
<p>产品经理设计的方案存在以下面几项比较严重的漏洞：</p>
<ol>
<li>个性化菜单的替换是要在默认菜单中进行替换，如果成功匹配后，破坏了默认菜单本身的结构；</li>
<li>最小替换单元是一项主菜单，公众号的关注用户每次进入都要检测匹配，容易给服务器增大不必要的访问压力；</li>
<li>替换顺序每次都必须要遵循从左到右依次替换，这种规则就会容易出现被替换的主菜单并不是用户真实想替换的那一项，这种替换方式并不符合实际场景的使用；</li>
<li>个性化菜单无法设定菜单的个数，系统设置的默认菜单有几项主菜单，个性化菜单就有几项</li>
</ol>
<p>以上这几点问题可以看出，方案A的个性化菜单其实并不那么个性，离自定义菜单的产品目的还相距甚远。菜单的替换逻辑过于局限且不符合实际的使用场景，比如无法控制个性化菜单上的菜单数量，也无法控制去操作具体替换哪一项菜单。</p>
<blockquote>
<p>针对方案A存在问题，重新设计了另一个方案，即下面的方案B</p>
</blockquote>
<h3 id="方案B"><a href="#方案B" class="headerlink" title="方案B"></a>方案B</h3><p><img src="https://user-images.githubusercontent.com/9880101/67074655-20538180-f1bc-11e9-88eb-c4d7c7fde27b.png" alt="modal2"></p>
<p><strong>模型：</strong></p>
<p>个性化菜单，是一整个<strong>菜单按钮组</strong>（如图中m1、m2、m3…mn所示），每一组个性化菜单里的菜单按钮（如菜单a1）可以设置子菜单，与默认菜单一样。</p>
<p><strong>替换规则：</strong></p>
<ol>
<li>把个性化菜单按最近创建时间排序，最新创建的排在最前面，优先匹配；</li>
<li>检测第一组个性化菜单中的“matchrule”是否有匹配的用户；</li>
<li>如果符合，用m1替换默认菜单，剩余的个性化菜单不再匹配；</li>
<li>如果不符合，再检测第二组个性化菜单的匹配规则是否符合用户，符合即替换，不符合即继续检测下一组个性化菜单，直到成功匹配并替换默认菜单；</li>
<li>如果剩余的个性化菜单都与用户不匹配，也终止个性化菜单的匹配替换</li>
</ol>
<p><strong>优势：</strong></p>
<p><strong><em>方案B的优势完全弥补了方案A中的缺点，在设计思路上也相对较为巧妙。</em></strong></p>
<ol>
<li>以一整个菜单组为最小单元进行匹配和替换，在软件设计和处理上可以把个性花菜单看成是带有匹配条件的”默认菜单”，也就是把它们看成菜单按钮组；</li>
<li>能够避免方案A中局限且不合实际使用场景的替换逻辑，可以完全控制菜单项的数量、内容、和排放顺序，做到真正意义上的个性化。</li>
</ol>
<h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>为了验证这种设计思路，以及说服负责该功能的产品经理，google了很多地方结果一点毛线参考也没找到，后来直接重新看了微信公众号平台开发文档的相关内容，从代码示例中即验证了这种猜想。如下面代码片段所示（创建个性化菜单的示例）。这里的个性化菜单有两个主菜单：<strong><u>今日歌曲</u></strong> 和 <strong><u>菜单</u></strong>，<strong><u>菜单</u></strong>下面有三个子菜单，分别是 <u>搜索</u>、<u>wxa</u>、<u>赞我一下</u>。</p>
<p>由此可以看出，个性化菜单与默认菜单本质上是一样的，唯一的不同点是每组个性化菜单有自己的匹配规则(Matchrule)，符合规则的关注者会显示，不符合的则不显示。</p>
<pre><code class="javascript">{
    &quot;button&quot;: [
        {
            &quot;type&quot;: &quot;click&quot;, 
            &quot;name&quot;: &quot;今日歌曲&quot;, 
            &quot;key&quot;: &quot;V1001_TODAY_MUSIC&quot;
        }, 
        {
            &quot;name&quot;: &quot;菜单&quot;, 
            &quot;sub_button&quot;: [
                {
                    &quot;type&quot;: &quot;view&quot;, 
                    &quot;name&quot;: &quot;搜索&quot;, 
                    &quot;url&quot;: &quot;http://www.soso.com/&quot;
                }, 
                {
                    &quot;type&quot;: &quot;miniprogram&quot;, 
                    &quot;name&quot;: &quot;wxa&quot;, 
                    &quot;url&quot;: &quot;http://mp.weixin.qq.com&quot;, 
                    &quot;appid&quot;: &quot;wx286b93c14bbf93aa&quot;, 
                    &quot;pagepath&quot;: &quot;pages/lunar/index&quot;
                }, 
                {
                    &quot;type&quot;: &quot;click&quot;, 
                    &quot;name&quot;: &quot;赞一下我们&quot;, 
                    &quot;key&quot;: &quot;V1001_GOOD&quot;
                }
            ]
        }
    ], 
</code></pre>
<h2 id="回归问题"><a href="#回归问题" class="headerlink" title="回归问题"></a>回归问题</h2><p><strong><em>在阅读了官方文档后，为什么产品经理设计的方案会变得不一样，而且还隐藏着漏洞？</em></strong></p>
<p>简单分析了下，得出下面的几个观点。</p>
<p><strong>1. 对个性化菜单的模型理解比较表面</strong></p>
<p>把个性化菜单理解成一个主菜单按钮，<strong>一项个性化菜单</strong>  等同时于  <strong>一项菜单按钮</strong>。（下图所示）</p>
<p>这也是一种理解，只是过于浅层，因为表面上给人的直觉就是把默认菜单的某一项或几项替换掉。如果简单地把这种理解作为规律直接应用到这项功能的设计上就变得有点局限，而且也不适合。</p>
<p><strong>2. 缺少对其它使用场景的考虑，没有预判功能的设计可能会出现的问题</strong></p>
<p>对于设计方案，在设计过程中不防多预演几次，多考虑还有哪些基本的使用场景，有时是可以发现更多问题，反逼着换思路重新思考设计，比如能否可以控制个性化菜单主菜单按钮的数量，如果考虑到了，那方案A基本上就是不可能过的；另外，尽量考虑用更简单的逻辑去实现同样的功能。</p>
<p><strong>3. 思维已被锁定住了，跳不出来，没有回归到问题的本质</strong></p>
<p>对个性化菜单的理解已经思维定势，基本上是“我不要你觉得，我要我觉得”。然后各种操作交互特别是匹配规则都是在这种定势思维里继续演化。</p>
<p><img src="https://user-images.githubusercontent.com/9880101/67075824-84774500-f1be-11e9-9dc6-32843d1450d2.jpg" alt="error_defualtmenu" style="zoom:100%;"></p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>在产品设计中一不小心都很容易会埋下坑，个性化菜单只是个很小的例子。</p>
<p>埋坑的原因各种各样的都有，列一下常见的：</p>
<ul>
<li>需求临时变更、漂浮不定导致的；</li>
<li>缺少相关经验，考虑不到位，比如某个功能的在使用场景上比较局限，或者没有考虑到与现有业务有关联，以及技术实现难度等问题；</li>
<li>协作流程上的问题，比如prd/原型文档不详细，交互细节、流程没写清楚，对接人员甚至整个团队在需求理解上产生偏移；</li>
<li>沟通不顺畅、信息不透明、信息传达不到位或滞后；</li>
</ul>
<p>即使是有标准的设计流程和研发流程，在软件整个设计过程研发过程中上述这些情况也是会经常发生。能做到的时，尽量在早期发现问题并解决它，特别是在设计阶段，因为越往后所积累的问题的解决成本可能会越大。</p>
<p><strong><em>在设计阶段（产品、交互、UI），怎样避免少一点埋坑呢？</em></strong></p>
<h3 id="第一性原理"><a href="#第一性原理" class="headerlink" title="第一性原理"></a>第一性原理</h3><p>第一性原理强调不要将思维锁定在表面的问题上，更需要做的是回到问题的出发点，有时候更甚至于要重新定义问题。</p>
<p>产品经理在设计方案A的时候，是简单地把个化性菜单看成在已有的默认菜单上进行自定义修改，</p>
<p>方案A中的问题，离不开产品的思维停留在对个性化菜单的浅层理解。要遵循已有的业务功能的描述，但不能盲从，换个思考角度来看待需求，换种方法去处理，也许会找到更简单更巧妙的方法、更优的解，能满足更多的场景使用需要。</p>
<h3 id="抽象化功能，总结规律和模式"><a href="#抽象化功能，总结规律和模式" class="headerlink" title="抽象化功能，总结规律和模式"></a>抽象化功能，总结规律和模式</h3><blockquote>
<p>思想、概念都是无形的，都是抽象的。我们在向别人介绍某一种事物时，事物本身可能是具体的，但当我们用语言、文字向他人描述时，实际上你描述的已成为经你抽象后的“另一事物”，这需要让受众与他经验中的具体的事物相联系，在受众的头脑中将你传递给他的信息重新组合、拼装成具体的事物，才能给受众形象的印象，否则别人不懂。[^百度百科]</p>
</blockquote>
<p>实际上，当我们在接受需求信息的时候，我们的大脑已经在开始有意识地组织需求信息，寻找规律，搭业务的框架和流程模型，而不是一味地只是接受信息。特别是我们进行功能设计的时候，一边吸收需求，一边把具体的需求抽象化成某些普适的规律和模式，再把它转化成我们的产品交互原型。</p>
<p>比如偶数 <code>[2, 4, 6]</code>之于数学公式 <code>2n</code>，<code>[2, 4, 6]</code>是很具体的偶数，但<code>2n</code>能代表所有偶数，有着普适的规律和适用性。</p>
<p>抽象化在产品功能设计中的作用</p>
<ul>
<li>更专注业务的本质，主干流程，避免过渡地思考细节；</li>
<li>找到规律和模式；</li>
<li>容易跳出已有的思维模式，切换其它角度看问题，寻找创新点和改进点；</li>
</ul>
<h3 id="演推和预判"><a href="#演推和预判" class="headerlink" title="演推和预判"></a>演推和预判</h3><p>演推和预判，是自己检验设计方案、发现问题的一种好方法。</p>
<p>使用场景是否能满足</p>
<p>流程是否完整闭环</p>
<p>交互是清晰、有效率</p>
<p>用户在使用的时候可能会发生哪些问题</p>
<h3 id="借助工具"><a href="#借助工具" class="headerlink" title="借助工具"></a>借助工具</h3><p>当我们在设计或者描述一个业务功能的时候，不同的人大脑里对它的理解极有可能会不一样，有时甚至是截然相反的想法。</p>
<p>出现这一点的原因是我们每个人大脑对业务功能的解析不一样，通过借助一些建模工具，比如<a href="https://www.visual-paradigm.com/cn/guide/uml-unified-modeling-language/what-is-uml/" target="_blank" rel="noopener">建模语言UML</a>、<a href="https://www.visual-paradigm.com/cn/guide/data-modeling/what-is-entity-relationship-diagram/" target="_blank" rel="noopener">ER图</a>，可以让自己梳理清晰流程、对象的关系和状态。模型是非常客观的，所以其他人在理解上不会容易地出现理解偏移。</p>
<p>下面两个类图分别是方案A和方案B中默认菜单与个性化菜单之间的关系模型。我们也能通过这些模型去分析方案自身的做给缺点，也有助于其它对接人员比如开发人员查看和理解。</p>
<p><img src="https://user-images.githubusercontent.com/9880101/67063258-a52ca400-f198-11e9-94a8-82355d44db39.png" alt="方案A"></p>
<p><img src="https://user-images.githubusercontent.com/9880101/67063268-b07fcf80-f198-11e9-93ae-d9e58a6f3128.png" alt="方案B"></p>
<p>[^百度百科]:引用于<a href="https://baike.baidu.com/item/%E6%8A%BD%E8%B1%A1%E5%8C%96/10844295?fr=aladdin" target="_blank" rel="noopener">百度百科</a></p>

  </article>
  <footer class="f-cf">
    
    
      <a href="/posts/c43d91a8/" class="link f-fr">团队合作注意问题→</a>
    
  </footer>
</section>

</div>
    <footer id="footer" class="f-cf">

  <div class="icons">
      
        
          
            <a href="https://www.behance.net/idiotyang" target="_blank" class="nav-icn iconfont icon-behance"></a>
          
        
          
            <a href="https://github.com/yangbe" target="_blank" class="nav-icn iconfont icon-github"></a>
          
        
      
    </div>

 
  <a href="mailto:jiany.liu@qq.com" class="email">jiany.liu@qq.com</a>
</footer>
<script type="text/javascript" src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>
  </div>
</body>

</html>